âŠ System; âŠ System.IO; âŠ System.Collections.Generic;
âŠ UnityEngine;

âŠ“ Active.Howl{
â€’ â—‹ ImportConfig{

    á´¸ ã„¹ path = "Howl-Sel.bin";
    âˆ˜ á† frame = 0;

    â€’Ì¥ â”ˆ Read(){
        â¤´ (!path.Exists()) â® ;
        âˆ™ f = Time.frameCount; â¤´(f â‰  frame) â®;
        frame = f;
        SetSelState(Map.@default, path.ReadObject<ğ•„<ã„¹,ã…‡>>());
    }

    â€’Ì¥ â”ˆ Write() â†’ path.WriteObject(GetSelState(Map.@default));

    â€’Ì¥ â”ˆ Clear() â†’ File.Delete(path);

    âˆ˜ ğ•„<ã„¹,ã…‡> GetSelState(Map map){
        âˆ™ @out = âŒ¢ ğ•„<ã„¹,ã…‡>();
        âˆ€ (âˆ™ x âˆˆ map.rules) @out[x.name] = x.@sel;
        â® @out;
    }

    âˆ˜ â”ˆ SetSelState(Map map, ğ•„<ã„¹,ã…‡> S){
        ã…‡ z;
        âˆ€ (âˆ™ x âˆˆ map.rules)
            â¤´ (S.TryGetValue(x.name, out z)) x.@sel = z;
    }

}}
